<div class="page" ng-controller="userDetailCtrl">
    <div class="row ui-section">
        <div class="col-lg-12">
            <h2 class="section-header">{{ roleLabels[user.roles[0]] }}详情</h2>
        </div>
        <div class="col-md-4">
            <div class="card bg-white">
                <div class="card-image" style="background-color:#546E7A">
                    <div class="card-title">{{ user.name }}</div>
                </div>
                <div class="card-content">
                    <a class="card-profile-img pull-right" href="javascript:;">
                        <img ng-if="user.avatar" ng-src="{{ user.avatar }}">
                        <md-icon ng-if="!user.avatar" class="default">account_circle</md-icon>
                    </a>
                    <md-list>
                        <md-list-item>
                            <i class="fa fa-weixin" style="margin-right:36px;width:16px;height:16px;line-height:16px;font-size:20px;color:#757575;margin-left:4px"></i>
                            <div class="md-list-item-text">
                                <h3 style="margin-top:13px;font-weight:normal;font-size:16px;">微信</h3>
                            </div>
                            <div class="md-secondary label" ng-class="{'label-success':user.openid, 'label-default':!user.openid}">{{ user.openid ? '已绑定' : '未绑定' }}</div>
                        </md-list-item>
                    </md-list>
                </div>
            </div>
        </div>
        <div class="col-md-8">
            <md-tabs md-border-bottom md-dynamic-height>
                <md-tab label="概况">
                    <div class="card bg-white" layout-padding>
                        <form layout="row" layout-padding layout-wrap>
                            <div flex="50" layout="column">
                                <fieldset layout="row">
                                    <md-input-container>
                                        <label>姓名</label>
                                        <input ng-model="user.name">
                                    </md-input-container>
                                    <md-input-container>
                                        <label>性别</label>
                                        <input ng-model="user.gender">
                                    </md-input-container>
                                    <md-input-container>
                                        <label>手机号</label>
                                        <input ng-model="user.mobile">
                                    </md-input-container>
                                    <md-input-container ng-if="user.openid">
                                        <label>微信号（已绑定）</label>
                                        <input ng-model="user.openid" disabled>
                                    </md-input-container>
                                </fieldset>
                            </div>
                            <div flex="50">
                                <fieldset layout="row">
                                    <md-input-container>
                                        <label>用户名</label>
                                        <input ng-model="user.username" autocomplete="off">
                                    </md-input-container>
                                    <md-input-container>
                                        <label>角色</label>
                                        <md-select ng-model="user.roles" multiple="true">
                                            <md-option ng-repeat="role in roles" ng-value="role.name">{{ role.label }}</md-option>
                                        </md-select>
                                        <div class="md-errors-spacer"></div>
                                    </md-input-container>
                                    <md-input-container>
                                        <label>重置密码</label>
                                        <input type="password" ng-model="user.password" autocomplete="new-password">
                                    </md-input-container>
                                </fieldset>
                            </div>
                        </form>
                        <md-button ng-click="updateUser(user)" ng-show="userChanged" class="md-fab md-fab-corner"><md-icon>done</md-icon></md-button>
                    </div>
                </md-tab>
            </md-tabs>
        </div>
    </div>
</div>
